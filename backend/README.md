## Best Pack Backend

### Описание проекта:
Асинхронный бэкенд для сервиса подбора упаковки Яндекс.Маркет

### Запуск проекта (локально)
```
uvicorn app.main:app --port 8080
```

### API
Спецификация запросов API и список эндпоинтов доступны по адресу (локально):
http://localhost:8080/docs

Схема работы бэкенда:
1. На эндпоинт `/create_order` приходит список товаров и количество. Если товаров с таким sku нет в БД, то запрос отклоняется.
2. При наличии товаров бэкенд делает запросы на сервис подбора упаковки `/health` и `/pack`, получает упаковку и обёртку для каждого товара в заказе.
3. Заказ создаётся и сохраняется в БД вместе с упаковкой, ему присваивается статус 'Формируется'.
4. От пользователя приходит запрос на получение заказа для упаковки на `/pack_order`.
5. Бэкенд делает запрос в БД, получает первый заказ из очереди и отправляет пользователю. В этот момент заказу присваивается статус 'Собирается'.
6. Пользователь завершает упаковку и отправляет запрос на `/pack_order/{order_id}` с информацией о результатах и указанием использованной упаковки.
7. Информация от пользователя сохраняется в заказе и ему присваивается статус 'Выполнен' или 'Отменён', в зависимости от информации пользователя о результатах упаковки.

Итоговая информация о заказе включает в себя:
- время создания, начала упаковки и завершения заказа;
- типы и количество товаров в заказе;
- рекомендованную упаковку (может быть несколько);
- использованную упаковку (может быть несколько);
- id пользователя;
- комментарий пользователя (опционально).

Первоначальное наполнение базы можно сделать через команду `python full_base.py`

### Версия языка
`Python 3.11.3`

Зависимости представлены в файле `requirements.txt`

### Стек технологий
`FastAPI` `Pydantic` `SQLAlchemy` `Alembic` `Uvicorn` `aiohttp`
